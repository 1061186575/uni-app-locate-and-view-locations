(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"206f":function(t,e,i){var a=i("c580");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("0ff4845b",a,!0,{sourceMap:!1,shadowMode:!1})},"2f41":function(t,e,i){"use strict";var a=i("206f"),n=i.n(a);n.a},"45a7":function(t,e,i){"use strict";i.r(e);var a=i("ceb0"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"469f":function(t,e,i){i("6c1c"),i("1654"),t.exports=i("7d7b")},"48c2":function(t,e,i){"use strict";i.r(e);var a=i("fb74"),n=i("45a7");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("2f41");var s,r=i("f0c5"),u=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"7ef1a930",null,!1,a["a"],s);e["default"]=u.exports},"5d73":function(t,e,i){t.exports=i("469f")},"7d7b":function(t,e,i){var a=i("e4ae"),n=i("7cd6");t.exports=i("584a").getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return a(e.call(t))}},c580:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".content[data-v-7ef1a930]{position:relative\n\t/* display: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center; */}.content .item[data-v-7ef1a930]{position:relative;padding:10px;border-bottom:1px solid #007aff;margin:5px auto}.content .item uni-view[data-v-7ef1a930]{white-space:nowrap;overflow:auto\n\t/* text-overflow: ellipsis; */}.config[data-v-7ef1a930]{width:100%;\n\t/* height: 50px; */border:1px solid #007aff}.config .control[data-v-7ef1a930]{position:relative;height:50px;margin:10px;box-sizing:border-box;background:rgba(16,162,192,.21)}.config .control uni-text[data-v-7ef1a930]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:0;height:0}.config .control uni-text.triangle-right[data-v-7ef1a930]{border-top:20px solid transparent;border-left:25px solid #4cd964;border-bottom:20px solid transparent}.config .control uni-text.triangle-down[data-v-7ef1a930]{border-top:25px solid #4cd964;border-left:20px solid transparent;border-right:20px solid transparent}.input[data-v-7ef1a930]{border:1px solid #4cd964;height:30px;line-height:30px;padding-left:10px}",""])},ceb0:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("5176")),o=a(i("5d73")),s=a(i("a745")),r={data:function(){return{isFilterErrPositon:!1,isShowConfig:!1,isShowInput:!1,positionInfo:[],postData:{userName:"",date:"",password:"",pageNumber:0,pageSize:20},inputPassword:"",previousDate:"",allUserName:[],userIndex:0,homePage:""}},onLoad:function(){var t=this;t.initData()},methods:{initData:function(){var t=this;t.postData.date=t.formatDate(new Date),uni.getStorage({key:"user_info",success:function(e){e&&e.data&&e.data.password&&(t.postData.password=e.data.password,t.getAllUserName(),t.getData("/recentPositionInfo",void 0,t.renderData))},complete:function(){}})},login:function(){var t=this,e="zp",i=t.inputPassword;t.getData("/verifyAdmin",{account:e,password:i},function(e){e.loginResult?(uni.setStorage({key:"user_info",data:{password:i}}),t.postData.password=i,t.postData.date=t.formatDate(new Date),t.getAllUserName(),t.getData("/recentPositionInfo",void 0,t.renderData)):uni.showToast({icon:"none",title:"用户账号或密码不正确"})})},getAllUserName:function(){var t=this;this.previousDate!==this.postData.date&&(this.previousDate=this.postData.date,t.getData("/allUserName",{date:t.postData.date,password:t.postData.password},function(e){(0,s.default)(e)?t.allUserName=e:t.allUserName=["无"]}))},getData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.postData,i=arguments.length>2?arguments[2]:void 0;uni.request({method:"post",url:this.baseUrl+t,dataType:"json",data:e,success:function(t){var e=t.data;i&&i(e)}})},renderData:function(t){var e=this;if(""!==t){if("string"==typeof t)return console.error(t),uni.showToast({icon:"none",title:t}),void(e.positionInfo=[]);t=t.reverse();var i=[],a=!0,s=!1,r=void 0;try{for(var u,v=(0,o.default)(t);!(a=(u=v.next()).done);a=!0){var l=u.value;l.address?i.push((0,n.default)({},l,l.address)):i.push(l)}}catch(c){s=!0,r=c}finally{try{a||null==v.return||v.return()}finally{if(s)throw r}}console.log(i),e.positionInfo=i}else e.positionInfo=[]},openLocation:function(t,e){uni.openLocation({latitude:t,longitude:e,success:function(t){}})},radioChange:function(t){var e=this,i=t.target.value;"recentPosition"===i?(e.isShowInput=!1,e.getData("/recentPositionInfo",void 0,e.renderData)):"allPosition"===i&&(e.isShowInput=!0,e.getData("/positionInfo",void 0,e.renderData))},bindPickerChange:function(t){this.userIndex=t.target.value,this.postData.userName=this.allUserName[this.userIndex],this.getData("/positionInfo",void 0,this.renderData)},query:function(){var t=this;this.getAllUserName(),this.getData("/positionInfo",void 0,this.renderData),/https?:\/\/\w+\.\w+/.test(this.homePage)&&this.getData("/changeHomePage",{password:this.postData.password,src:this.homePage},function(e){t.homePage=""})},formatDate:function(t){var e=new Date(t),i=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var n=e.getDate();return n=n<10?"0"+n:n,i+"-"+a+"-"+n}}};e.default=r},fb74:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[t.postData.password?i("v-uni-view",{staticClass:"config"},[i("v-uni-view",{staticClass:"control",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.isShowConfig=!t.isShowConfig}}},[i("v-uni-text",{class:t.isShowConfig?"triangle-down":"triangle-right"})],1),t.isShowConfig?i("v-uni-view",{staticStyle:{margin:"10px"}},[i("v-uni-view",[t._v("改变用户首页"),i("v-uni-input",{attrs:{type:"text"},model:{value:t.homePage,callback:function(e){t.homePage=e},expression:"homePage"}})],1),i("v-uni-view",[i("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.isFilterErrPositon=!t.isFilterErrPositon}}},[i("v-uni-label",[i("v-uni-checkbox",{attrs:{value:"true"}}),t._v("过滤错误信息")],1)],1)],1),i("v-uni-radio-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.radioChange.apply(void 0,arguments)}}},[i("v-uni-view",[i("v-uni-label",{staticClass:"radio"},[i("v-uni-radio",{attrs:{value:"recentPosition",checked:"true"}}),t._v("最近的信息")],1),i("br"),i("v-uni-label",{staticClass:"radio"},[i("v-uni-radio",{attrs:{value:"allPosition"}}),t._v("所有的信息")],1)],1)],1),t.isShowInput?i("v-uni-view",[t._v("用户名:"),i("v-uni-input",{staticClass:"input",attrs:{type:"text"},model:{value:t.postData.userName,callback:function(e){t.$set(t.postData,"userName",e)},expression:"postData.userName"}}),t._v("日期:"),i("v-uni-input",{staticClass:"input",attrs:{type:"text"},model:{value:t.postData.date,callback:function(e){t.$set(t.postData,"date",e)},expression:"postData.date"}}),t._v("当前日期可选择的用户名:"),i("v-uni-picker",{attrs:{value:t.userIndex,range:t.allUserName},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input input"},[t._v(t._s(t.allUserName[t.userIndex]))])],1),i("v-uni-button",{staticStyle:{background:"#009688","margin-top":"5px"},attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.query.apply(void 0,arguments)}}},[t._v("查询")])],1):t._e()],1):t._e()],1):i("v-uni-view",[i("v-uni-input",{staticStyle:{height:"35px",border:"1px solid #4CD964"},attrs:{type:"text"},model:{value:t.inputPassword,callback:function(e){t.inputPassword=e},expression:"inputPassword"}}),i("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login.apply(void 0,arguments)}}},[t._v("login")])],1),t._l(t.positionInfo,function(e,a){return i("v-uni-view",{key:a},[e.errMsg&&e.errMsg.toString().includes("getLocation:fail")&&!t.isFilterErrPositon?i("v-uni-view",{staticClass:"item"},[i("v-uni-view",[t._v(t._s(e.userName?"用户名: "+e.userName:""))]),i("v-uni-view",[t._v("时间: "+t._s(e.time))]),i("v-uni-view",[t._v("错误信息: "+t._s(e.errMsg))])],1):t._e(),e.errMsg&&!e.errMsg.toString().includes("getLocation:fail")?i("v-uni-view",{staticClass:"item"},[i("v-uni-view",[t._v(t._s(e.userName?"用户名: "+e.userName:""))]),i("v-uni-view",[t._v("时间: "+t._s(e.time))]),i("v-uni-view",[t._v("国家: "+t._s(e.country))]),i("v-uni-view",[t._v("省份: "+t._s(e.province))]),i("v-uni-view",[t._v("城市: "+t._s(e.city))]),i("v-uni-view",[t._v("区（县）: "+t._s(e.district))]),i("v-uni-view",[t._v("街道信息: "+t._s(e.street))]),i("v-uni-view",[t._v("街道门牌号: "+t._s(e.streetNum))]),i("v-uni-view",[t._v("POI信息: "+t._s(e.poiName))]),i("v-uni-view",[t._v("邮政编码: "+t._s(e.postalCode))]),i("v-uni-view",[t._v("城市代码: "+t._s(e.cityCode))]),i("v-uni-view",[t._v("纬度: "+t._s(e.latitude))]),i("v-uni-view",[t._v("经度: "+t._s(e.longitude))]),i("v-uni-view",[t._v("速度: "+t._s(e.speed)+"m/s")]),i("v-uni-view",[t._v("位置的精确度: "+t._s(e.accuracy))]),i("v-uni-view",[t._v("高度: "+t._s(e.altitude)+"m")]),i("v-uni-view",[t._v("垂直精度: "+t._s(e.verticalAccuracy)+"m")]),i("v-uni-view",[t._v("水平精度: "+t._s(e.horizontalAccuracy)+"m")]),i("v-uni-button",{attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.openLocation(e.latitude,e.longitude)}}},[t._v("从地图打开")])],1):t._e(),e.errMsg||t.isFilterErrPositon?t._e():i("v-uni-view",{staticClass:"item"},[i("v-uni-view",[t._v(t._s(e.userName?"用户名: "+e.userName:""))]),i("v-uni-view",[t._v("时间: "+t._s(e.time))]),i("v-uni-view",[t._v("错误信息: 没有errMsg!")])],1)],1)})],2)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})}}]);